<!--
 * @Author: freysu
 * @Date: 2022-11-19 18:30:52
 * @LastEditors: freysu
 * @LastEditTime: 2022-11-20 16:02:41
 * @Description: file content
-->
<!DOCTYPE html>

<html lang="zh">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>02-指令函数简写</title>
    <script src="../../lib/vue.js"></script>
  </head>

  <body>
    <div id="box">
      <div v-hello="'yellow'">111111</div>
      <div v-hello="'red'">2222</div>
      <div v-hello="whichColor">2222</div>
    </div>
    <script>
      // 指令：为了操作底层DOM， 作者给留方案
      // NOTE 实际应用： **可以通过指令知道什么时候dom创建完成**，从而进行，依赖dom的库的初始化工作

      //   Vue.directive('hello', {
      //     // 指令的生命周期函数
      //     inserted(el, binding, vnode) {
      //       // 第一次被插入到父节点中触发
      //       console.log('inserted', el)
      //       console.log('binding: ')
      //       el.style.background = binding.value
      //     },
      //     update(el, binding, vnode, oldVnode) {
      //       // 每次更新的时候会触发
      //       console.log('update: ', update)
      //       el.style.background = binding.value
      //     }
      //   })

      // 指令函数的简写方式，inserted,updated都会执行
      Vue.directive('hello', (el, binding) => {
        el.style.background = binding.value
      })

      new Vue({
        el: '#box',
        data() {
          return {
            whichColor: 'blue'
          }
        },
        methods: {},
        computed: {},
        watch: {}
      })
    </script>
  </body>
</html>
